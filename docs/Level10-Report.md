# Thin‑Pod Telemetry: Low‑Power VBATT Sensing & Wi‑Fi Logging with Pico 2 W
### 3.3 Software
- `pico/main.py` (MicroPython TCP server, 5 s cadence, 32× avg, LED heartbeat).
- `host/tcp_client_csv.py` (CSV logger, reconnect).
- Protocol decision: TCP over UDP for Windows friendliness.


### 3.4 Risk & Ethics
- Supercap safety, ESD, data locality, reproducibility.


## 4 Methods (Test Plan)
- Rig: EVK v1.2 + 5 F cap; Pico 2 W; Windows 11 host.
- Wiring steps and DMM ohms checks (BATT+↔node ≈ 1 MΩ; node↔BATT− ≈ 660 kΩ).
- Network procedure; discard first 2–3 samples; 0.2 s settle.
- Calibration: measured resistors and/or one‑line gain trim.
- Validation: log for ≥10 minutes and compare to DMM.


## 5 Results
### 5.1 Bring‑up chronology (fault signatures)
- CSV ~0.016 V → open top leg.
- CSV ~8.09 V flat → open bottom leg (ADC clamp).
- Fix: land both resistors + GP26 + 100 nF on a single row; verify with ohms.


### 5.2 Accuracy & stability
*(Insert Figure 2 — docs/fig/plot_vbatt.png; generated by `python host/plot_csv.py`)*
- Report DMM vs CSV mean (e.g., 3.340 V vs 3.303 V → 1.1% under‑read).
- If used, report gain trim bringing error <0.2%.


### 5.3 Acceptance check
*(Complete table in §2 with your measured results)*


## 6 Analysis & Discussion
- Error sources: 3V3 rail tolerance, ADC gain/offset, resistor tolerance, high‑Z settling.
- Energy impact: ~2 µA overhead; options to gate or duty‑cycle divider.
- Alternatives: lower‑Z (100 k/68 k) or op‑amp buffer; two‑point calibration.
- Reliability: reconnect behaviour, CSV integrity.


## 7 Conclusion & Future Work
- Summarise target attainment and next steps (plots/alerts; integration with harvester tuning; lower‑Z or buffer if needed).


## References (Harvard)
- Raspberry Pi Ltd. (2023) *RP2350 Datasheet*.
- e‑peas (2023) *AEM00941 EVK v1.2 User Guide*.
- Eaton (2021) *PTV Supercapacitor Datasheet*.
- MicroPython Docs (2024) *network/socket/ADC*.


## Appendices
- **A. BOM**
- **B. Wiring**
- **C. Code listings**
- **D. CSV excerpt**
- **E. Firewall commands**
- **F. Uncertainty budget**
- **G: Change Log (key points)**